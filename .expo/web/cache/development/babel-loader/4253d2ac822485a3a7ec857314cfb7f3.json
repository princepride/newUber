{"ast":null,"code":"import _objectDestructuringEmpty from \"@babel/runtime/helpers/objectDestructuringEmpty\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useRef, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport carouselItem from \"../data/dummy\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar viewConfigRef = {\n  viewAreaCoveragePercentThreshold: 95\n};\n\nvar HomeScreen = function HomeScreen() {\n  var flatListRef = useRef();\n\n  var scrollToIndex = function scrollToIndex(index) {\n    var _flatListRef$current;\n\n    (_flatListRef$current = flatListRef.current) == null ? void 0 : _flatListRef$current.scrollToIndex({\n      animated: true,\n      index: index\n    });\n  };\n\n  var renderItems = function renderItems(_ref) {\n    var item = _ref.item;\n    return _jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        return console.log(\"clicked\");\n      },\n      activeOpacity: 1,\n      children: [_jsx(Image, {\n        source: {\n          uri: item.url\n        },\n        style: styles.image\n      }), _jsxs(View, {\n        style: styles.footer,\n        children: [_jsx(Text, {\n          style: styles.footerText,\n          children: item.title\n        }), _jsx(Text, {\n          style: styles.footerText,\n          children: item.promo\n        })]\n      })]\n    });\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      style: \"auto\"\n    }), _jsx(FlatList, {\n      data: carouselItem,\n      renderItem: renderItems,\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      horizontal: true,\n      showsHorizontalScrollIndicator: false,\n      pagingEnabled: true,\n      ref: function ref(_ref2) {\n        flatListRef.current = _ref2;\n      },\n      style: styles.carousel,\n      viewabilityConfig: viewConfigRef\n    }), _jsx(View, {\n      style: styles.dotView,\n      children: carouselItem.map(function (_ref3, index) {\n        _objectDestructuringEmpty(_ref3);\n\n        return _jsx(TouchableOpacity, {\n          style: [styles.circle, {\n            backgroundColor: index == currentIndex ? 'black' : \"grey\"\n          }],\n          onPress: function onPress() {\n            return scrollToIndex(index);\n          }\n        }, index.toString());\n      })\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\"\n  },\n  carousel: {\n    maxHeight: 300\n  },\n  image: {\n    width: width,\n    height: 250,\n    resizeMode: \"cover\"\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    height: 50,\n    paddingHorizontal: 40,\n    alignItems: 'center',\n    backgroundColor: '#000'\n  },\n  footerText: {\n    color: \"#fff\",\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  dotView: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    marginVertical: 20\n  },\n  circle: {\n    width: 10,\n    height: 10,\n    backgroundColor: \"grey\",\n    borderRadius: 50,\n    marginHorizontal: 5\n  }\n});\nexport default HomeScreen;","map":{"version":3,"names":["StatusBar","React","useRef","useState","carouselItem","Dimensions","get","width","height","viewConfigRef","viewAreaCoveragePercentThreshold","HomeScreen","flatListRef","scrollToIndex","index","current","animated","renderItems","item","console","log","uri","url","styles","image","footer","footerText","title","promo","container","toString","ref","carousel","dotView","map","circle","backgroundColor","currentIndex","StyleSheet","create","flex","maxHeight","resizeMode","flexDirection","justifyContent","paddingHorizontal","alignItems","color","fontSize","fontWeight","marginVertical","borderRadius","marginHorizontal"],"sources":["C:/Users/wangz/Desktop/newUber/screens/HomeScreen.jsx"],"sourcesContent":["// In App.js in a new project\r\n\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport React, {useRef, useState} from 'react';\r\nimport { StyleSheet,Dimensions, View, Text, FlatList, TouchableOpacity, Image } from 'react-native';\r\nimport carouselItem from '../data/dummy'\r\n\r\nconst {width,height} = Dimensions.get('window');\r\nconst viewConfigRef = {viewAreaCoveragePercentThreshold:95}\r\nconst HomeScreen = () => {\r\n    let flatListRef = useRef()\r\n    //const [currentIndex,setCurrentIndex] = useState(0)\r\n    //const onViewRef = useRef((changed) => {\r\n    //    if(changed[0].isViewable) {\r\n    //        setCurrentIndex(changed[0].index)\r\n    //    }\r\n    //})\r\n\r\n    const scrollToIndex = (index) => {\r\n        flatListRef.current?.scrollToIndex({animated:true,index:index})\r\n    }\r\n\r\n    const renderItems = ({item}) => {\r\n        return (\r\n        <TouchableOpacity \r\n        onPress={() => console.log(\"clicked\")}\r\n        activeOpacity={1}\r\n        >\r\n        <Image source={{uri:item.url}} style={styles.image} />\r\n        <View style={styles.footer}>\r\n            <Text style={styles.footerText}>{item.title}</Text>\r\n            <Text style={styles.footerText}>{item.promo}</Text>\r\n        </View>\r\n        </TouchableOpacity>\r\n        )\r\n    }\r\n    return (\r\n        <View style={styles.container}>\r\n            <StatusBar style='auto' />\r\n\r\n            <FlatList \r\n            data={carouselItem} \r\n            renderItem={renderItems} \r\n            keyExtractor={(item, index) => index.toString()}\r\n            horizontal\r\n            showsHorizontalScrollIndicator={false}\r\n            pagingEnabled\r\n            ref={(ref) => {\r\n                flatListRef.current=ref\r\n            }}\r\n            style={styles.carousel}\r\n            viewabilityConfig={viewConfigRef}\r\n            //onViewableItemsChanged={onViewRef.current}\r\n            />\r\n            <View style={styles.dotView}>\r\n                {carouselItem.map(({},index) => (\r\n                    <TouchableOpacity \r\n                    key={index.toString()}\r\n                    style={[styles.circle,\r\n                        {backgroundColor: index == currentIndex? 'black':\"grey\"}\r\n                    ]} \r\n                    onPress={() => scrollToIndex(index)}\r\n\r\n                    />\r\n                ))}\r\n            </View>\r\n        </View>\r\n\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create(\r\n    {\r\n        container: {\r\n            flex:1,\r\n            backgroundColor:\"#fff\",\r\n            //alignItems:'center',\r\n            //justifyContent:\"center\",\r\n        },\r\n        carousel:{\r\n            maxHeight: 300,\r\n\r\n        },\r\n        image: {\r\n            width,\r\n            height:250,\r\n            resizeMode:\"cover\",\r\n        },\r\n        footer:{\r\n            flexDirection:'row',\r\n            justifyContent:'space-between',\r\n            height:50,\r\n            paddingHorizontal:40,\r\n            alignItems:'center',\r\n            backgroundColor:'#000',\r\n        },\r\n        footerText:{\r\n            color:\"#fff\",\r\n            fontSize:18,\r\n            fontWeight:'bold'\r\n        },\r\n        dotView: {\r\n            flexDirection:\"row\",\r\n            justifyContent:\"center\",\r\n            marginVertical:20,\r\n        },\r\n        circle:{\r\n            width:10,\r\n            height:10,\r\n            backgroundColor:\"grey\",\r\n            borderRadius:50,\r\n            marginHorizontal:5,\r\n        }\r\n    }\r\n)\r\n\r\nexport default HomeScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
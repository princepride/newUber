{"ast":null,"code":"import _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16, _templateObject17, _templateObject18, _templateObject19;\n\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport tw from 'tailwind-react-native-classnames';\nimport shareVideo from \"../data/share.mp4\";\nimport React, { useState } from 'react';\nimport { TextInput, Button } from 'react-native-paper';\nimport { useStateContext } from \"../context/ContextProvider\";\nimport { postData } from \"../fetchMethod\";\nimport { backendhost } from \"../configure\";\nimport Axios from 'axios';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Register = function Register(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      correct = _useState6[0],\n      setCorrect = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      accountExist = _useState8[0],\n      setAccountExist = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      destination = _useState10[0],\n      setDestination = _useState10[1];\n\n  var _useStateContext = useStateContext(),\n      setLogin = _useStateContext.setLogin,\n      setprofile = _useStateContext.setprofile;\n\n  var handleClick = function handleClick() {\n    postData(backendhost + 'register', {\n      name: name,\n      password: password,\n      destination: destination\n    }).then(function (data) {\n      console.log(data);\n      console.log(typeof data);\n\n      if (data) {\n        setLogin(true);\n        setprofile({\n          name: name,\n          destination: destination\n        });\n        navigation.navigate(\"HomeTabs\");\n      } else {\n        setAccountExist(true);\n      }\n    });\n  };\n\n  return _jsx(View, {\n    style: tw(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"flex justify-start items-center flex-col w-full h-full\"]))),\n    children: _jsxs(View, {\n      style: tw(_templateObject2 || (_templateObject2 = _taggedTemplateLiteralLoose([\"relative w-full h-full\"]))),\n      children: [_jsx(Image, {\n        style: tw(_templateObject3 || (_templateObject3 = _taggedTemplateLiteralLoose([\"h-full w-full\"]))),\n        source: require(\"../assets/stay-turned.jpg\")\n      }), _jsxs(View, {\n        style: tw(_templateObject4 || (_templateObject4 = _taggedTemplateLiteralLoose([\"absolute flex flex-col justify-center items-center top-0 right-0 left-0 bottom-0\"]))),\n        children: [_jsx(Image, {\n          style: tw(_templateObject5 || (_templateObject5 = _taggedTemplateLiteralLoose([\"w-64 h-16\"]))),\n          source: require(\"../assets/logo.png\")\n        }), _jsx(TextInput, {\n          style: tw(_templateObject6 || (_templateObject6 = _taggedTemplateLiteralLoose([\"w-64\"]))),\n          theme: {\n            roundness: 50\n          },\n          mode: \"outlined\",\n          label: \"username\",\n          onChangeText: function onChangeText(text) {\n            return setName(text);\n          },\n          left: _jsx(TextInput.Icon, {\n            icon: \"account\"\n          })\n        }), _jsx(View, {\n          style: tw(_templateObject7 || (_templateObject7 = _taggedTemplateLiteralLoose([\"pt-1\"])))\n        }), _jsx(TextInput, {\n          style: tw(_templateObject8 || (_templateObject8 = _taggedTemplateLiteralLoose([\"w-64\"]))),\n          theme: {\n            roundness: 50\n          },\n          mode: \"outlined\",\n          label: \"password\",\n          secureTextEntry: true,\n          onChangeText: function onChangeText(text) {\n            return setPassword(text);\n          },\n          left: _jsx(TextInput.Icon, {\n            icon: \"lock\"\n          })\n        }), correct && _jsx(View, {\n          style: tw(_templateObject9 || (_templateObject9 = _taggedTemplateLiteralLoose([\"pt-1\"])))\n        }), !correct && _jsx(View, {\n          children: _jsx(Text, {\n            style: tw(_templateObject10 || (_templateObject10 = _taggedTemplateLiteralLoose([\"text-red-600 text-xs\"]))),\n            children: \"password is incorrect\"\n          })\n        }), _jsx(TextInput, {\n          style: tw(_templateObject11 || (_templateObject11 = _taggedTemplateLiteralLoose([\"w-64\"]))),\n          theme: {\n            roundness: 50\n          },\n          mode: \"outlined\",\n          label: \"confirm password\",\n          secureTextEntry: true,\n          onChangeText: function onChangeText(text) {\n            if (text == password) {\n              setCorrect(true);\n            } else {\n              setCorrect(false);\n            }\n          },\n          left: _jsx(TextInput.Icon, {\n            icon: \"lock\"\n          })\n        }), correct && _jsx(View, {\n          style: tw(_templateObject12 || (_templateObject12 = _taggedTemplateLiteralLoose([\"pt-1\"])))\n        }), !correct && _jsx(View, {\n          children: _jsx(Text, {\n            style: tw(_templateObject13 || (_templateObject13 = _taggedTemplateLiteralLoose([\"text-red-600 text-xs\"]))),\n            children: \"password is incorrect\"\n          })\n        }), _jsx(View, {\n          style: tw(_templateObject14 || (_templateObject14 = _taggedTemplateLiteralLoose([\"pt-1\"])))\n        }), _jsx(TextInput, {\n          style: tw(_templateObject15 || (_templateObject15 = _taggedTemplateLiteralLoose([\"w-64\"]))),\n          theme: {\n            roundness: 50\n          },\n          mode: \"outlined\",\n          label: \"prefer destination\",\n          onChangeText: function onChangeText(text) {\n            return setDestination(text);\n          },\n          left: _jsx(TextInput.Icon, {\n            icon: \"google-maps\"\n          })\n        }), _jsx(View, {\n          style: tw(_templateObject16 || (_templateObject16 = _taggedTemplateLiteralLoose([\"pt-1\"])))\n        }), _jsx(View, {\n          style: tw(_templateObject17 || (_templateObject17 = _taggedTemplateLiteralLoose([\"flex-row\"]))),\n          children: _jsx(Button, {\n            style: tw(_templateObject18 || (_templateObject18 = _taggedTemplateLiteralLoose([\"w-28 p-1\"]))),\n            theme: {\n              roundness: 50\n            },\n            mode: \"contained\",\n            contentStyle: {\n              flexDirection: 'row-reverse'\n            },\n            onPress: function onPress() {\n              return handleClick();\n            },\n            children: \"Register\"\n          })\n        }), accountExist && _jsx(View, {\n          children: _jsx(Text, {\n            style: tw(_templateObject19 || (_templateObject19 = _taggedTemplateLiteralLoose([\"text-red-600 text-sm font-bold\"]))),\n            children: \"account has existed\"\n          })\n        })]\n      })]\n    })\n  });\n};\n\nexport default Register;\nvar styles = StyleSheet.create({\n  video: {\n    width: '100%',\n    height: '100%',\n    resizeMode: 'cover'\n  }\n});","map":{"version":3,"names":["tw","shareVideo","React","useState","TextInput","Button","useStateContext","postData","backendhost","Axios","Register","navigation","name","setName","password","setPassword","correct","setCorrect","accountExist","setAccountExist","destination","setDestination","setLogin","setprofile","handleClick","then","data","console","log","navigate","require","roundness","text","flexDirection","styles","StyleSheet","create","video","width","height","resizeMode"],"sources":["D:/newUber/screens/Register.jsx"],"sourcesContent":["import { StyleSheet, Text, View, Image } from 'react-native'\r\nimport tw from 'tailwind-react-native-classnames'\r\nimport shareVideo from '../data/share.mp4';\r\nimport React, { useState } from 'react'\r\nimport { TextInput, Button } from 'react-native-paper';\r\nimport { useStateContext } from '../context/ContextProvider'\r\nimport { postData } from '../fetchMethod'\r\nimport { backendhost } from '../configure' \r\nimport Axios from 'axios';\r\n\r\nconst Register = ({ navigation }) => {\r\n    const [name, setName] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [correct, setCorrect] = useState(true);\r\n    const [accountExist,setAccountExist] = useState(false);\r\n    const [destination, setDestination] = useState('');\r\n    const { setLogin, setprofile } = useStateContext();\r\n\r\n    //const handleClick = () => {\r\n    //    Axios.post(\"http://localhost:3001/register\", {\r\n    //  name: name,\r\n    //  password: password,\r\n    //  destination: destination\r\n    //}).then(() => {\r\n    //    setLogin(true)\r\n    //    setprofile({\r\n    //        name: name,\r\n    //        destination: destination\r\n    //    })\r\n    //});\r\n\r\n\r\n    const handleClick = () => {\r\n        postData(backendhost+'register', { name: name, password: password, destination: destination })\r\n            .then((data) => {\r\n                console.log(data);\r\n                console.log(typeof (data));\r\n                if(data){\r\n                    setLogin(true)\r\n                    setprofile({\r\n                        name: name,\r\n                        destination: destination\r\n                    })\r\n                    navigation.navigate(\"HomeTabs\")\r\n                }\r\n                else {\r\n                    setAccountExist(true)\r\n                }\r\n                //if (data.length != 0) {\r\n                //    setLogin(true)\r\n                //    setprofile({\r\n                //        name: data[0][0],\r\n                //        destination: data[0][1]\r\n                //    })\r\n                //}\r\n            }\r\n        );\r\n    }\r\n    return (\r\n        <View style={tw`flex justify-start items-center flex-col w-full h-full`}>\r\n            <View style={tw`relative w-full h-full`}>\r\n            <Image \r\n      style={tw`h-full w-full`}\r\n      source={require('../assets/stay-turned.jpg')}\r\n      />\r\n                <View style={tw`absolute flex flex-col justify-center items-center top-0 right-0 left-0 bottom-0`}>\r\n                <Image style={tw`w-64 h-16`} source={require('../assets/logo.png')}/>\r\n                    <TextInput\r\n                        style={tw`w-64`}\r\n                        theme={{ roundness: 50 }}\r\n                        mode='outlined'\r\n                        label=\"username\"\r\n                        onChangeText={text => setName(text)}\r\n                        left={<TextInput.Icon icon=\"account\" />}\r\n                    />\r\n                    <View style={tw`pt-1`}></View>\r\n                    <TextInput\r\n                        style={tw`w-64`}\r\n                        theme={{ roundness: 50 }}\r\n                        mode='outlined'\r\n                        label=\"password\"\r\n                        secureTextEntry={true}\r\n                        onChangeText={text => setPassword(text)}\r\n                        left={<TextInput.Icon icon=\"lock\" />}\r\n                    />\r\n                    {correct && <View style={tw`pt-1`}></View>}\r\n                    {!correct && <View><Text style={tw`text-red-600 text-xs`}>password is incorrect</Text></View>}\r\n                    <TextInput\r\n                        style={tw`w-64`}\r\n                        theme={{ roundness: 50 }}\r\n                        mode='outlined'\r\n                        label=\"confirm password\"\r\n                        secureTextEntry={true}\r\n                        onChangeText={text => { if (text == password) { setCorrect(true) } else { setCorrect(false) } }}\r\n                        left={<TextInput.Icon icon=\"lock\" />}\r\n                    />\r\n                    {correct && <View style={tw`pt-1`}></View>}\r\n                    {!correct && <View><Text style={tw`text-red-600 text-xs`}>password is incorrect</Text></View>}\r\n                    <View style={tw`pt-1`}></View>\r\n                    <TextInput\r\n                        style={tw`w-64`}\r\n                        theme={{ roundness: 50 }}\r\n                        mode='outlined'\r\n                        label=\"prefer destination\"\r\n                        onChangeText={text => setDestination(text)}\r\n                        left={<TextInput.Icon icon=\"google-maps\" />}\r\n                    />\r\n                    <View style={tw`pt-1`}></View>\r\n                    <View style={tw`flex-row`}>\r\n                        <Button\r\n                            style={tw`w-28 p-1`}\r\n                            theme={{ roundness: 50 }}\r\n                            mode=\"contained\"\r\n                            contentStyle={{ flexDirection: 'row-reverse' }}\r\n                            onPress={() => handleClick()}\r\n                        >\r\n                            Register\r\n                        </Button>\r\n                    </View>\r\n                    {accountExist && <View><Text style={tw`text-red-600 text-sm font-bold`}>account has existed</Text></View>}\r\n                </View>\r\n            </View>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default Register\r\n\r\nconst styles = StyleSheet.create({\r\n    video: {\r\n        width: '100%',\r\n        height: '100%',\r\n        resizeMode: 'cover'\r\n    }\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}
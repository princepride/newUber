{"ast":null,"code":"import _objectDestructuringEmpty from \"@babel/runtime/helpers/objectDestructuringEmpty\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _templateObject;\n\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useRef, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport carouselItem from \"../data/dummy\";\nimport tw from 'tailwind-react-native-classnames';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar viewConfigRef = {\n  viewAreaCoveragePercentThreshold: 95\n};\n\nvar Carousel = function Carousel() {\n  var flatListRef = useRef();\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentIndex = _useState2[0],\n      setCurrentIndex = _useState2[1];\n\n  var onViewRef = useRef(function (_ref) {\n    var changed = _ref.changed;\n\n    if (changed[0].isViewable) {\n      setCurrentIndex(changed[0].index);\n    }\n  });\n\n  var scrollToIndex = function scrollToIndex(index) {\n    var _flatListRef$current;\n\n    (_flatListRef$current = flatListRef.current) == null ? void 0 : _flatListRef$current.scrollToIndex({\n      animated: true,\n      index: index\n    });\n  };\n\n  var renderItems = function renderItems(_ref2) {\n    var item = _ref2.item;\n    return _jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        return console.log(\"clicked\");\n      },\n      activeOpacity: 1,\n      children: [_jsx(Image, {\n        source: {\n          uri: item.url\n        },\n        style: styles.image\n      }), _jsx(View, {\n        style: styles.footer,\n        children: _jsx(Text, {\n          style: styles.footerText,\n          children: item.title\n        })\n      })]\n    });\n  };\n\n  return _jsxs(View, {\n    style: tw(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"bg-white\"]))),\n    children: [_jsx(StatusBar, {\n      style: \"auto\"\n    }), _jsx(FlatList, {\n      data: carouselItem,\n      renderItem: renderItems,\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      horizontal: true,\n      showsHorizontalScrollIndicator: false,\n      pagingEnabled: true,\n      ref: function ref(_ref3) {\n        flatListRef.current = _ref3;\n      },\n      style: styles.carousel,\n      viewabilityConfig: viewConfigRef,\n      onViewableItemsChanged: onViewRef.current\n    }), _jsx(View, {\n      style: styles.dotView,\n      children: carouselItem.map(function (_ref4, index) {\n        _objectDestructuringEmpty(_ref4);\n\n        return _jsx(TouchableOpacity, {\n          style: [styles.circle, {\n            backgroundColor: index == currentIndex ? 'black' : \"grey\"\n          }],\n          onPress: function onPress() {\n            return scrollToIndex(index);\n          }\n        }, index.toString());\n      })\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  carousel: {\n    maxHeight: 240\n  },\n  image: {\n    width: width,\n    height: 180,\n    resizeMode: \"cover\"\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    height: 50,\n    paddingHorizontal: 40,\n    alignItems: 'center',\n    backgroundColor: '#000'\n  },\n  footerText: {\n    color: \"#fff\",\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  dotView: {\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  },\n  circle: {\n    width: 10,\n    height: 10,\n    backgroundColor: \"grey\",\n    borderRadius: 50,\n    marginHorizontal: 5\n  }\n});\nexport default Carousel;","map":{"version":3,"names":["StatusBar","React","useRef","useState","carouselItem","tw","Dimensions","get","width","height","viewConfigRef","viewAreaCoveragePercentThreshold","Carousel","flatListRef","currentIndex","setCurrentIndex","onViewRef","changed","isViewable","index","scrollToIndex","current","animated","renderItems","item","console","log","uri","url","styles","image","footer","footerText","title","toString","ref","carousel","dotView","map","circle","backgroundColor","StyleSheet","create","maxHeight","resizeMode","flexDirection","justifyContent","paddingHorizontal","alignItems","color","fontSize","fontWeight","borderRadius","marginHorizontal"],"sources":["D:/newUber/components/Carousel.jsx"],"sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport React, {useRef, useState} from 'react';\r\nimport { StyleSheet,Dimensions, View, Text, FlatList, TouchableOpacity, Image } from 'react-native';\r\nimport carouselItem from '../data/dummy'\r\nimport tw from 'tailwind-react-native-classnames'\r\n\r\nconst {width,height} = Dimensions.get('window');\r\nconst viewConfigRef = {viewAreaCoveragePercentThreshold:95}\r\n\r\nconst Carousel = () => {\r\n    let flatListRef = useRef()\r\n    const [currentIndex,setCurrentIndex] = useState(0)\r\n    const onViewRef = useRef(({changed}) => {\r\n        if(changed[0].isViewable) {\r\n            setCurrentIndex(changed[0].index)\r\n        }\r\n    })\r\n\r\n    const scrollToIndex = (index) => {\r\n        flatListRef.current?.scrollToIndex({animated:true,index:index})\r\n    }\r\n\r\n    const renderItems = ({item}) => {\r\n        return (\r\n        <TouchableOpacity \r\n        onPress={() => console.log(\"clicked\")}\r\n        activeOpacity={1}\r\n        >\r\n        <Image source={{uri:item.url}} style={styles.image} />\r\n        <View style={styles.footer}>\r\n            <Text style={styles.footerText}>{item.title}</Text>\r\n        </View>\r\n        </TouchableOpacity>\r\n        )\r\n    }\r\n    return (\r\n        <View style={tw`bg-white`}>\r\n            <StatusBar style='auto' />\r\n\r\n            <FlatList \r\n            data={carouselItem} \r\n            renderItem={renderItems} \r\n            keyExtractor={(item, index) => index.toString()}\r\n            horizontal\r\n            showsHorizontalScrollIndicator={false}\r\n            pagingEnabled\r\n            ref={(ref) => {\r\n                flatListRef.current=ref\r\n            }}\r\n            style={styles.carousel}\r\n            viewabilityConfig={viewConfigRef}\r\n            onViewableItemsChanged={onViewRef.current}\r\n            />\r\n            <View style={styles.dotView}>\r\n                {carouselItem.map(({},index) => (\r\n                    <TouchableOpacity \r\n                    key={index.toString()}\r\n                    style={[styles.circle,\r\n                        {backgroundColor: index == currentIndex? 'black':\"grey\"}\r\n                    ]} \r\n                    onPress={() => scrollToIndex(index)}\r\n\r\n                    />\r\n                ))}\r\n            </View>\r\n        </View>\r\n        \r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create(\r\n    {\r\n        carousel:{\r\n            maxHeight: 240,\r\n\r\n        },\r\n        image: {\r\n            width,\r\n            height:180,\r\n            resizeMode:\"cover\",\r\n        },\r\n        footer:{\r\n            flexDirection:'row',\r\n            justifyContent:'space-between',\r\n            height:50,\r\n            paddingHorizontal:40,\r\n            alignItems:'center',\r\n            backgroundColor:'#000',\r\n        },\r\n        footerText:{\r\n            color:\"#fff\",\r\n            fontSize:18,\r\n            fontWeight:'bold'\r\n        },\r\n        dotView: {\r\n            flexDirection:\"row\",\r\n            justifyContent:\"center\",\r\n            //marginVertical:10,\r\n        },\r\n        circle:{\r\n            width:10,\r\n            height:10,\r\n            backgroundColor:\"grey\",\r\n            borderRadius:50,\r\n            marginHorizontal:5,\r\n        }\r\n    }\r\n)\r\n\r\nexport default Carousel;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useRef, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport carouselItem from \"../data/dummy\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar viewConfigRef = {\n  viewAreaCoveragePercentThreshold: 95\n};\n\nvar _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentIndex = _useState2[0],\n    setCurrentIndex = _useState2[1];\n\nvar HomeScreen = function HomeScreen() {\n  var flatListRef = useRef();\n  var onViewRef = useRef(function (changed) {\n    if (changed[0].isViewable) {\n      setCurrentIndex(changed[0].index);\n    }\n  });\n\n  var renderItems = function renderItems(_ref) {\n    var item = _ref.item;\n    return _jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        return console.log(\"clicked\");\n      },\n      activeOpacity: 1,\n      children: [_jsx(Image, {\n        source: {\n          uri: item.url\n        },\n        style: styles.image\n      }), _jsxs(View, {\n        style: styles.footer,\n        children: [_jsx(Text, {\n          style: styles.footerText,\n          children: item.title\n        }), _jsx(Text, {\n          style: styles.footerText,\n          children: item.promo\n        })]\n      })]\n    });\n  };\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      style: \"auto\"\n    }), _jsx(FlatList, {\n      data: carouselItem,\n      renderItem: renderItems,\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      horizontal: true,\n      showsHorizontalScrollIndicator: false,\n      pagingEnabled: true,\n      ref: function ref(_ref2) {\n        flatListRef.current = _ref2;\n      },\n      style: styles.carousel,\n      viewabilityConfig: viewConfigRef,\n      onViewableItemsChanged: onViewRef.current\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\"\n  },\n  carousel: {\n    maxHeight: 300\n  },\n  image: {\n    width: width,\n    height: 250,\n    resizeMode: \"cover\"\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    height: 50,\n    paddingHorizontal: 40,\n    alignItems: 'center',\n    backgroundColor: '#000'\n  },\n  footerText: {\n    color: \"#fff\",\n    fontSize: 18,\n    fontWeight: 'bold'\n  }\n});\nexport default HomeScreen;","map":{"version":3,"names":["StatusBar","React","useRef","useState","carouselItem","Dimensions","get","width","height","viewConfigRef","viewAreaCoveragePercentThreshold","currentIndex","setCurrentIndex","HomeScreen","flatListRef","onViewRef","changed","isViewable","index","renderItems","item","console","log","uri","url","styles","image","footer","footerText","title","promo","container","toString","ref","current","carousel","StyleSheet","create","flex","backgroundColor","maxHeight","resizeMode","flexDirection","justifyContent","paddingHorizontal","alignItems","color","fontSize","fontWeight"],"sources":["C:/Users/wangz/Desktop/newUber/screens/HomeScreen.jsx"],"sourcesContent":["// In App.js in a new project\r\n\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport React, {useRef, useState} from 'react';\r\nimport { StyleSheet,Dimensions, View, Text, FlatList, TouchableOpacity, Image } from 'react-native';\r\nimport carouselItem from '../data/dummy'\r\n\r\nconst {width,height} = Dimensions.get('window');\r\nconst viewConfigRef = {viewAreaCoveragePercentThreshold:95}\r\nconst [currentIndex,setCurrentIndex] = useState(0)\r\nconst HomeScreen = () => {\r\n    let flatListRef = useRef()\r\n    const onViewRef = useRef((changed) => {\r\n        if(changed[0].isViewable) {\r\n            setCurrentIndex(changed[0].index)\r\n        }\r\n    })\r\n\r\n    const renderItems = ({item}) => {\r\n        return (\r\n        <TouchableOpacity \r\n        onPress={() => console.log(\"clicked\")}\r\n        activeOpacity={1}\r\n        >\r\n        <Image source={{uri:item.url}} style={styles.image} />\r\n        <View style={styles.footer}>\r\n            <Text style={styles.footerText}>{item.title}</Text>\r\n            <Text style={styles.footerText}>{item.promo}</Text>\r\n        </View>\r\n        </TouchableOpacity>\r\n        )\r\n    }\r\n    return (\r\n        <View style={styles.container}>\r\n            <StatusBar style='auto' />\r\n\r\n            <FlatList \r\n            data={carouselItem} \r\n            renderItem={renderItems} \r\n            keyExtractor={(item, index) => index.toString()}\r\n            horizontal\r\n            showsHorizontalScrollIndicator={false}\r\n            pagingEnabled\r\n            ref={(ref) => {\r\n                flatListRef.current=ref\r\n            }}\r\n            style={styles.carousel}\r\n            viewabilityConfig={viewConfigRef}\r\n            onViewableItemsChanged={onViewRef.current}\r\n            />\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create(\r\n    {\r\n        container: {\r\n            flex:1,\r\n            backgroundColor:\"#fff\",\r\n            //alignItems:'center',\r\n            //justifyContent:\"center\",\r\n        },\r\n        carousel:{\r\n            maxHeight: 300,\r\n\r\n        },\r\n        image: {\r\n            width,\r\n            height:250,\r\n            resizeMode:\"cover\",\r\n        },\r\n        footer:{\r\n            flexDirection:'row',\r\n            justifyContent:'space-between',\r\n            height:50,\r\n            paddingHorizontal:40,\r\n            alignItems:'center',\r\n            backgroundColor:'#000',\r\n        },\r\n        footerText:{\r\n            color:\"#fff\",\r\n            fontSize:18,\r\n            fontWeight:'bold'\r\n        },\r\n\r\n    }\r\n)\r\n\r\nexport default HomeScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
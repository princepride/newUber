{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _reactJsxRuntime = require(\"react/jsx-runtime\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n\n    for (var p in s) {\n      if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n  }\n\n  return t;\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar react_native_image_pan_zoom_1 = require(\"react-native-image-pan-zoom\");\n\nvar image_viewer_style_1 = require(\"./image-viewer.style\");\n\nvar image_viewer_type_1 = require(\"./image-viewer.type\");\n\nvar ImageViewer = function (_super) {\n  __extends(ImageViewer, _super);\n\n  function ImageViewer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = new image_viewer_type_1.State();\n    _this.fadeAnim = new react_native_1.Animated.Value(0);\n    _this.standardPositionX = 0;\n    _this.positionXNumber = 0;\n    _this.positionX = new react_native_1.Animated.Value(0);\n    _this.width = 0;\n    _this.height = 0;\n    _this.styles = image_viewer_style_1.default(0, 0, 'transparent');\n    _this.hasLayout = false;\n    _this.loadedIndex = new Map();\n    _this.handleLongPressWithIndex = new Map();\n    _this.imageRefs = [];\n\n    _this.resetImageByIndex = function (index) {\n      _this.imageRefs[index] && _this.imageRefs[index].reset();\n    };\n\n    _this.preloadImage = function (index) {\n      if (index < _this.state.imageSizes.length) {\n        _this.loadImage(index + 1);\n      }\n    };\n\n    _this.handleHorizontalOuterRangeOffset = function (offsetX) {\n      if (offsetX === void 0) {\n        offsetX = 0;\n      }\n\n      _this.positionXNumber = _this.standardPositionX + offsetX;\n\n      _this.positionX.setValue(_this.positionXNumber);\n\n      var offsetXRTL = !react_native_1.I18nManager.isRTL ? offsetX : -offsetX;\n\n      if (offsetXRTL < 0) {\n        if (_this.state.currentShowIndex || 0 < _this.props.imageUrls.length - 1) {\n          _this.loadImage((_this.state.currentShowIndex || 0) + 1);\n        }\n      } else if (offsetXRTL > 0) {\n        if (_this.state.currentShowIndex || 0 > 0) {\n          _this.loadImage((_this.state.currentShowIndex || 0) - 1);\n        }\n      }\n    };\n\n    _this.handleResponderRelease = function (vx) {\n      if (vx === void 0) {\n        vx = 0;\n      }\n\n      var vxRTL = react_native_1.I18nManager.isRTL ? -vx : vx;\n      var isLeftMove = react_native_1.I18nManager.isRTL ? _this.positionXNumber - _this.standardPositionX < -(_this.props.flipThreshold || 0) : _this.positionXNumber - _this.standardPositionX > (_this.props.flipThreshold || 0);\n      var isRightMove = react_native_1.I18nManager.isRTL ? _this.positionXNumber - _this.standardPositionX > (_this.props.flipThreshold || 0) : _this.positionXNumber - _this.standardPositionX < -(_this.props.flipThreshold || 0);\n\n      if (vxRTL > 0.7) {\n        _this.goBack.call(_this);\n\n        if (_this.state.currentShowIndex || 0 > 0) {\n          _this.loadImage((_this.state.currentShowIndex || 0) - 1);\n        }\n\n        return;\n      } else if (vxRTL < -0.7) {\n        _this.goNext.call(_this);\n\n        if (_this.state.currentShowIndex || 0 < _this.props.imageUrls.length - 1) {\n          _this.loadImage((_this.state.currentShowIndex || 0) + 1);\n        }\n\n        return;\n      }\n\n      if (isLeftMove) {\n        _this.goBack.call(_this);\n      } else if (isRightMove) {\n        _this.goNext.call(_this);\n\n        return;\n      } else {\n        _this.resetPosition.call(_this);\n\n        return;\n      }\n    };\n\n    _this.goBack = function () {\n      if (_this.state.currentShowIndex === 0) {\n        _this.resetPosition.call(_this);\n\n        return;\n      }\n\n      _this.positionXNumber = !react_native_1.I18nManager.isRTL ? _this.standardPositionX + _this.width : _this.standardPositionX - _this.width;\n      _this.standardPositionX = _this.positionXNumber;\n      react_native_1.Animated.timing(_this.positionX, {\n        toValue: _this.positionXNumber,\n        duration: _this.props.pageAnimateTime,\n        useNativeDriver: !!_this.props.useNativeDriver\n      }).start();\n      var nextIndex = (_this.state.currentShowIndex || 0) - 1;\n\n      _this.setState({\n        currentShowIndex: nextIndex\n      }, function () {\n        if (_this.props.onChange) {\n          _this.props.onChange(_this.state.currentShowIndex);\n        }\n      });\n    };\n\n    _this.goNext = function () {\n      if (_this.state.currentShowIndex === _this.props.imageUrls.length - 1) {\n        _this.resetPosition.call(_this);\n\n        return;\n      }\n\n      _this.positionXNumber = !react_native_1.I18nManager.isRTL ? _this.standardPositionX - _this.width : _this.standardPositionX + _this.width;\n      _this.standardPositionX = _this.positionXNumber;\n      react_native_1.Animated.timing(_this.positionX, {\n        toValue: _this.positionXNumber,\n        duration: _this.props.pageAnimateTime,\n        useNativeDriver: !!_this.props.useNativeDriver\n      }).start();\n      var nextIndex = (_this.state.currentShowIndex || 0) + 1;\n\n      _this.setState({\n        currentShowIndex: nextIndex\n      }, function () {\n        if (_this.props.onChange) {\n          _this.props.onChange(_this.state.currentShowIndex);\n        }\n      });\n    };\n\n    _this.handleLongPress = function (image) {\n      if (_this.props.saveToLocalByLongPress) {\n        _this.setState({\n          isShowMenu: true\n        });\n      }\n\n      if (_this.props.onLongPress) {\n        _this.props.onLongPress(image);\n      }\n    };\n\n    _this.handleClick = function () {\n      if (_this.props.onClick) {\n        _this.props.onClick(_this.handleCancel, _this.state.currentShowIndex);\n      }\n    };\n\n    _this.handleDoubleClick = function () {\n      if (_this.props.onDoubleClick) {\n        _this.props.onDoubleClick(_this.handleCancel);\n      }\n    };\n\n    _this.handleCancel = function () {\n      _this.hasLayout = false;\n\n      if (_this.props.onCancel) {\n        _this.props.onCancel();\n      }\n    };\n\n    _this.handleLayout = function (event) {\n      if (event.nativeEvent.layout.width !== _this.width) {\n        _this.hasLayout = true;\n        _this.width = event.nativeEvent.layout.width;\n        _this.height = event.nativeEvent.layout.height;\n        _this.styles = image_viewer_style_1.default(_this.width, _this.height, _this.props.backgroundColor || 'transparent');\n\n        _this.forceUpdate();\n\n        _this.jumpToCurrentImage();\n      }\n    };\n\n    _this.saveToLocal = function () {\n      if (!_this.props.onSave) {\n        react_native_1.CameraRoll.saveToCameraRoll(_this.props.imageUrls[_this.state.currentShowIndex || 0].url);\n\n        _this.props.onSaveToCamera(_this.state.currentShowIndex);\n      } else {\n        _this.props.onSave(_this.props.imageUrls[_this.state.currentShowIndex || 0].url);\n      }\n\n      _this.setState({\n        isShowMenu: false\n      });\n    };\n\n    _this.handleLeaveMenu = function () {\n      _this.setState({\n        isShowMenu: false\n      });\n    };\n\n    _this.handleSwipeDown = function () {\n      if (_this.props.onSwipeDown) {\n        _this.props.onSwipeDown();\n      }\n\n      _this.handleCancel();\n    };\n\n    return _this;\n  }\n\n  ImageViewer.prototype.componentDidMount = function () {\n    this.init(this.props);\n  };\n\n  ImageViewer.getDerivedStateFromProps = function (nextProps, prevState) {\n    if (nextProps.index !== prevState.prevIndexProp) {\n      return {\n        currentShowIndex: nextProps.index,\n        prevIndexProp: nextProps.index\n      };\n    }\n\n    return null;\n  };\n\n  ImageViewer.prototype.componentDidUpdate = function (prevProps, prevState) {\n    if (prevProps.index !== this.props.index) {\n      this.loadImage(this.props.index || 0);\n      this.jumpToCurrentImage();\n      react_native_1.Animated.timing(this.fadeAnim, {\n        toValue: 1,\n        duration: 200,\n        useNativeDriver: !!this.props.useNativeDriver\n      }).start();\n    }\n  };\n\n  ImageViewer.prototype.init = function (nextProps) {\n    var _this = this;\n\n    if (nextProps.imageUrls.length === 0) {\n      this.fadeAnim.setValue(0);\n      return this.setState(new image_viewer_type_1.State());\n    }\n\n    var imageSizes = [];\n    nextProps.imageUrls.forEach(function (imageUrl) {\n      imageSizes.push({\n        width: imageUrl.width || 0,\n        height: imageUrl.height || 0,\n        status: 'loading'\n      });\n    });\n    this.setState({\n      currentShowIndex: nextProps.index,\n      prevIndexProp: nextProps.index || 0,\n      imageSizes: imageSizes\n    }, function () {\n      _this.loadImage(nextProps.index || 0);\n\n      _this.jumpToCurrentImage();\n\n      react_native_1.Animated.timing(_this.fadeAnim, {\n        toValue: 1,\n        duration: 200,\n        useNativeDriver: !!nextProps.useNativeDriver\n      }).start();\n    });\n  };\n\n  ImageViewer.prototype.jumpToCurrentImage = function () {\n    this.positionXNumber = this.width * (this.state.currentShowIndex || 0) * (react_native_1.I18nManager.isRTL ? 1 : -1);\n    this.standardPositionX = this.positionXNumber;\n    this.positionX.setValue(this.positionXNumber);\n  };\n\n  ImageViewer.prototype.loadImage = function (index) {\n    var _this = this;\n\n    if (!this.state.imageSizes[index]) {\n      return;\n    }\n\n    if (this.loadedIndex.has(index)) {\n      return;\n    }\n\n    this.loadedIndex.set(index, true);\n    var image = this.props.imageUrls[index];\n\n    var imageStatus = __assign({}, this.state.imageSizes[index]);\n\n    var saveImageSize = function saveImageSize() {\n      if (_this.state.imageSizes[index] && _this.state.imageSizes[index].status !== 'loading') {\n        return;\n      }\n\n      var imageSizes = _this.state.imageSizes.slice();\n\n      imageSizes[index] = imageStatus;\n\n      _this.setState({\n        imageSizes: imageSizes\n      });\n    };\n\n    if (this.state.imageSizes[index].status === 'success') {\n      return;\n    }\n\n    if (this.state.imageSizes[index].width > 0 && this.state.imageSizes[index].height > 0) {\n      imageStatus.status = 'success';\n      saveImageSize();\n      return;\n    }\n\n    var sizeLoaded = false;\n    var imageLoaded = false;\n\n    if (!image.url || image.url.startsWith(\"file:\")) {\n      imageLoaded = true;\n    }\n\n    if (image.width && image.height) {\n      if (this.props.enablePreload && imageLoaded === false) {\n        react_native_1.Image.prefetch(image.url);\n      }\n\n      imageStatus.width = image.width;\n      imageStatus.height = image.height;\n      imageStatus.status = 'success';\n      saveImageSize();\n      return;\n    }\n\n    react_native_1.Image.getSize(image.url, function (width, height) {\n      imageStatus.width = width;\n      imageStatus.height = height;\n      imageStatus.status = 'success';\n      saveImageSize();\n    }, function () {\n      try {\n        var data = react_native_1.Image.resolveAssetSource(image.props.source);\n        imageStatus.width = data.width;\n        imageStatus.height = data.height;\n        imageStatus.status = 'success';\n        saveImageSize();\n      } catch (newError) {\n        imageStatus.status = 'fail';\n        saveImageSize();\n      }\n    });\n  };\n\n  ImageViewer.prototype.resetPosition = function () {\n    this.positionXNumber = this.standardPositionX;\n    react_native_1.Animated.timing(this.positionX, {\n      toValue: this.standardPositionX,\n      duration: 150,\n      useNativeDriver: !!this.props.useNativeDriver\n    }).start();\n  };\n\n  ImageViewer.prototype.getContent = function () {\n    var _this = this;\n\n    var screenWidth = this.width;\n    var screenHeight = this.height;\n    var ImageElements = this.props.imageUrls.map(function (image, index) {\n      if ((_this.state.currentShowIndex || 0) > index + 1 || (_this.state.currentShowIndex || 0) < index - 1) {\n        return _reactJsxRuntime.jsx(react_native_1.View, {\n          style: {\n            width: screenWidth,\n            height: screenHeight\n          }\n        }, index);\n      }\n\n      if (!_this.handleLongPressWithIndex.has(index)) {\n        _this.handleLongPressWithIndex.set(index, _this.handleLongPress.bind(_this, image));\n      }\n\n      var width = _this.state.imageSizes[index] && _this.state.imageSizes[index].width;\n      var height = _this.state.imageSizes[index] && _this.state.imageSizes[index].height;\n      var imageInfo = _this.state.imageSizes[index];\n\n      if (!imageInfo || !imageInfo.status) {\n        return _reactJsxRuntime.jsx(react_native_1.View, {\n          style: {\n            width: screenWidth,\n            height: screenHeight\n          }\n        }, index);\n      }\n\n      if (width > screenWidth) {\n        var widthPixel = screenWidth / width;\n        width *= widthPixel;\n        height *= widthPixel;\n      }\n\n      if (height > screenHeight) {\n        var HeightPixel = screenHeight / height;\n        width *= HeightPixel;\n        height *= HeightPixel;\n      }\n\n      var Wrapper = function Wrapper(_a) {\n        var children = _a.children,\n            others = __rest(_a, [\"children\"]);\n\n        return _reactJsxRuntime.jsx(react_native_image_pan_zoom_1.default, _objectSpread(_objectSpread({\n          cropWidth: _this.width,\n          cropHeight: _this.height,\n          maxOverflow: _this.props.maxOverflow,\n          horizontalOuterRangeOffset: _this.handleHorizontalOuterRangeOffset,\n          responderRelease: _this.handleResponderRelease,\n          onMove: _this.props.onMove,\n          onLongPress: _this.handleLongPressWithIndex.get(index),\n          onClick: _this.handleClick,\n          onDoubleClick: _this.handleDoubleClick,\n          enableSwipeDown: _this.props.enableSwipeDown,\n          swipeDownThreshold: _this.props.swipeDownThreshold,\n          onSwipeDown: _this.handleSwipeDown,\n          pinchToZoom: _this.props.enableImageZoom,\n          enableDoubleClickZoom: _this.props.enableImageZoom,\n          doubleClickInterval: _this.props.doubleClickInterval\n        }, others), {}, {\n          children: children\n        }));\n      };\n\n      switch (imageInfo.status) {\n        case 'loading':\n          return _reactJsxRuntime.jsx(Wrapper, {\n            style: __assign({}, _this.styles.modalContainer, _this.styles.loadingContainer),\n            imageWidth: screenWidth,\n            imageHeight: screenHeight,\n            children: _reactJsxRuntime.jsx(react_native_1.View, {\n              style: _this.styles.loadingContainer,\n              children: _this.props.loadingRender()\n            })\n          }, index);\n\n        case 'success':\n          if (!image.props) {\n            image.props = {};\n          }\n\n          if (!image.props.style) {\n            image.props.style = {};\n          }\n\n          image.props.style = __assign({}, _this.styles.imageStyle, image.props.style, {\n            width: width,\n            height: height\n          });\n\n          if (typeof image.props.source === 'number') {} else {\n            if (!image.props.source) {\n              image.props.source = {};\n            }\n\n            image.props.source = __assign({\n              uri: image.url\n            }, image.props.source);\n          }\n\n          if (_this.props.enablePreload) {\n            _this.preloadImage(_this.state.currentShowIndex || 0);\n          }\n\n          return _reactJsxRuntime.jsx(react_native_image_pan_zoom_1.default, {\n            ref: function ref(el) {\n              return _this.imageRefs[index] = el;\n            },\n            cropWidth: _this.width,\n            cropHeight: _this.height,\n            maxOverflow: _this.props.maxOverflow,\n            horizontalOuterRangeOffset: _this.handleHorizontalOuterRangeOffset,\n            responderRelease: _this.handleResponderRelease,\n            onMove: _this.props.onMove,\n            onLongPress: _this.handleLongPressWithIndex.get(index),\n            onClick: _this.handleClick,\n            onDoubleClick: _this.handleDoubleClick,\n            imageWidth: width,\n            imageHeight: height,\n            enableSwipeDown: _this.props.enableSwipeDown,\n            swipeDownThreshold: _this.props.swipeDownThreshold,\n            onSwipeDown: _this.handleSwipeDown,\n            panToMove: !_this.state.isShowMenu,\n            pinchToZoom: _this.props.enableImageZoom && !_this.state.isShowMenu,\n            enableDoubleClickZoom: _this.props.enableImageZoom && !_this.state.isShowMenu,\n            doubleClickInterval: _this.props.doubleClickInterval,\n            minScale: _this.props.minScale,\n            maxScale: _this.props.maxScale,\n            children: _this.props.renderImage(image.props)\n          }, index);\n\n        case 'fail':\n          return _reactJsxRuntime.jsx(Wrapper, {\n            style: _this.styles.modalContainer,\n            imageWidth: _this.props.failImageSource ? _this.props.failImageSource.width : screenWidth,\n            imageHeight: _this.props.failImageSource ? _this.props.failImageSource.height : screenHeight,\n            children: _this.props.failImageSource && _this.props.renderImage({\n              source: {\n                uri: _this.props.failImageSource.url\n              },\n              style: {\n                width: _this.props.failImageSource.width,\n                height: _this.props.failImageSource.height\n              }\n            })\n          }, index);\n      }\n    });\n    return _reactJsxRuntime.jsx(react_native_1.Animated.View, {\n      style: {\n        zIndex: 9\n      },\n      children: _reactJsxRuntime.jsxs(react_native_1.Animated.View, {\n        style: __assign({}, this.styles.container, {\n          opacity: this.fadeAnim\n        }),\n        children: [this.props.renderHeader(this.state.currentShowIndex), _reactJsxRuntime.jsx(react_native_1.View, {\n          style: this.styles.arrowLeftContainer,\n          children: _reactJsxRuntime.jsx(react_native_1.TouchableWithoutFeedback, {\n            onPress: this.goBack,\n            children: _reactJsxRuntime.jsx(react_native_1.View, {\n              children: this.props.renderArrowLeft()\n            })\n          })\n        }), _reactJsxRuntime.jsx(react_native_1.View, {\n          style: this.styles.arrowRightContainer,\n          children: _reactJsxRuntime.jsx(react_native_1.TouchableWithoutFeedback, {\n            onPress: this.goNext,\n            children: _reactJsxRuntime.jsx(react_native_1.View, {\n              children: this.props.renderArrowRight()\n            })\n          })\n        }), _reactJsxRuntime.jsx(react_native_1.Animated.View, {\n          style: __assign({}, this.styles.moveBox, {\n            transform: [{\n              translateX: this.positionX\n            }],\n            width: this.width * this.props.imageUrls.length\n          }),\n          children: ImageElements\n        }), this.props.renderIndicator((this.state.currentShowIndex || 0) + 1, this.props.imageUrls.length), this.props.imageUrls[this.state.currentShowIndex || 0] && this.props.imageUrls[this.state.currentShowIndex || 0].originSizeKb && this.props.imageUrls[this.state.currentShowIndex || 0].originUrl && _reactJsxRuntime.jsx(react_native_1.View, {\n          style: this.styles.watchOrigin,\n          children: _reactJsxRuntime.jsx(react_native_1.TouchableOpacity, {\n            style: this.styles.watchOriginTouchable,\n            children: _reactJsxRuntime.jsx(react_native_1.Text, {\n              style: this.styles.watchOriginText,\n              children: \"\\u67E5\\u770B\\u539F\\u56FE(2M)\"\n            })\n          })\n        }), _reactJsxRuntime.jsx(react_native_1.View, {\n          style: [{\n            bottom: 0,\n            position: 'absolute',\n            zIndex: 9\n          }, this.props.footerContainerStyle],\n          children: this.props.renderFooter(this.state.currentShowIndex || 0)\n        })]\n      })\n    });\n  };\n\n  ImageViewer.prototype.getMenu = function () {\n    if (!this.state.isShowMenu) {\n      return null;\n    }\n\n    if (this.props.menus) {\n      return _reactJsxRuntime.jsx(react_native_1.View, {\n        style: this.styles.menuContainer,\n        children: this.props.menus({\n          cancel: this.handleLeaveMenu,\n          saveToLocal: this.saveToLocal\n        })\n      });\n    }\n\n    return _reactJsxRuntime.jsxs(react_native_1.View, {\n      style: this.styles.menuContainer,\n      children: [_reactJsxRuntime.jsx(react_native_1.View, {\n        style: this.styles.menuShadow\n      }), _reactJsxRuntime.jsxs(react_native_1.View, {\n        style: this.styles.menuContent,\n        children: [_reactJsxRuntime.jsx(react_native_1.TouchableHighlight, {\n          underlayColor: \"#F2F2F2\",\n          onPress: this.saveToLocal,\n          style: this.styles.operateContainer,\n          children: _reactJsxRuntime.jsx(react_native_1.Text, {\n            style: this.styles.operateText,\n            children: this.props.menuContext.saveToLocal\n          })\n        }), _reactJsxRuntime.jsx(react_native_1.TouchableHighlight, {\n          underlayColor: \"#F2F2F2\",\n          onPress: this.handleLeaveMenu,\n          style: this.styles.operateContainer,\n          children: _reactJsxRuntime.jsx(react_native_1.Text, {\n            style: this.styles.operateText,\n            children: this.props.menuContext.cancel\n          })\n        })]\n      })]\n    });\n  };\n\n  ImageViewer.prototype.render = function () {\n    var childs = null;\n    childs = _reactJsxRuntime.jsxs(react_native_1.View, {\n      children: [this.getContent(), this.getMenu()]\n    });\n    return _reactJsxRuntime.jsx(react_native_1.View, {\n      onLayout: this.handleLayout,\n      style: __assign({\n        flex: 1,\n        overflow: 'hidden'\n      }, this.props.style),\n      children: childs\n    });\n  };\n\n  ImageViewer.defaultProps = new image_viewer_type_1.Props();\n  return ImageViewer;\n}(React.Component);\n\nexports.default = ImageViewer;","map":{"version":3,"mappings":"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","names":["__extends","_this","image_viewer_type_1","react_native_1","Value","image_viewer_style_1","Map","index","imageRefs","reset","state","imageSizes","length","loadImage","offsetX","positionXNumber","standardPositionX","positionX","setValue","offsetXRTL","isRTL","currentShowIndex","props","imageUrls","vx","vxRTL","isLeftMove","flipThreshold","isRightMove","goBack","call","goNext","resetPosition","width","timing","toValue","duration","pageAnimateTime","useNativeDriver","start","nextIndex","setState","onChange","image","saveToLocalByLongPress","isShowMenu","onLongPress","onClick","handleCancel","onDoubleClick","hasLayout","onCancel","event","nativeEvent","layout","height","styles","backgroundColor","forceUpdate","jumpToCurrentImage","onSave","saveToCameraRoll","url","onSaveToCamera","onSwipeDown","ImageViewer","init","nextProps","prevState","prevIndexProp","prevProps","fadeAnim","forEach","push","imageUrl","status","loadedIndex","has","set","imageStatus","saveImageSize","slice","sizeLoaded","imageLoaded","startsWith","enablePreload","prefetch","getSize","data","resolveAssetSource","source","newError","screenWidth","screenHeight","ImageElements","map","handleLongPressWithIndex","handleLongPress","bind","imageInfo","widthPixel","HeightPixel","Wrapper","_a","others","maxOverflow","handleHorizontalOuterRangeOffset","handleResponderRelease","onMove","get","handleClick","handleDoubleClick","enableSwipeDown","swipeDownThreshold","handleSwipeDown","enableImageZoom","doubleClickInterval","children","__assign","modalContainer","loadingContainer","loadingRender","style","imageStyle","uri","preloadImage","el","minScale","maxScale","renderImage","failImageSource","zIndex","container","opacity","renderHeader","arrowLeftContainer","renderArrowLeft","arrowRightContainer","renderArrowRight","moveBox","transform","translateX","renderIndicator","originSizeKb","originUrl","watchOrigin","watchOriginTouchable","watchOriginText","bottom","position","footerContainerStyle","renderFooter","menus","menuContainer","cancel","handleLeaveMenu","saveToLocal","menuShadow","menuContent","operateContainer","operateText","menuContext","childs","getContent","getMenu","handleLayout","flex","overflow","React","Component"],"sourceRoot":"","sources":["../src/image-viewer.component.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}
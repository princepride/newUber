{"ast":null,"code":"import _objectDestructuringEmpty from \"@babel/runtime/helpers/objectDestructuringEmpty\";\nimport _taggedTemplateLiteralLoose from \"@babel/runtime/helpers/taggedTemplateLiteralLoose\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _templateObject;\nimport { StatusBar } from 'expo-status-bar';\nimport React, { useRef, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport carouselItem from \"../data/dummy\";\nimport tw from 'tailwind-react-native-classnames';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get('window'),\n  width = _Dimensions$get.width,\n  height = _Dimensions$get.height;\nvar viewConfigRef = {\n  viewAreaCoveragePercentThreshold: 95\n};\nvar Carousel = function Carousel() {\n  var flatListRef = useRef();\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentIndex = _useState2[0],\n    setCurrentIndex = _useState2[1];\n  var onViewRef = useRef(function (_ref) {\n    var changed = _ref.changed;\n    if (changed[0].isViewable) {\n      setCurrentIndex(changed[0].index);\n    }\n  });\n  var scrollToIndex = function scrollToIndex(index) {\n    var _flatListRef$current;\n    (_flatListRef$current = flatListRef.current) == null ? void 0 : _flatListRef$current.scrollToIndex({\n      animated: true,\n      index: index\n    });\n  };\n  var renderItems = function renderItems(_ref2) {\n    var item = _ref2.item;\n    return _jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        return console.log(\"clicked\");\n      },\n      activeOpacity: 1,\n      children: [_jsx(Image, {\n        source: {\n          uri: item.url\n        },\n        style: styles.image\n      }), _jsxs(View, {\n        style: styles.footer,\n        children: [_jsx(Text, {\n          style: styles.footerText,\n          children: item.title\n        }), _jsx(Text, {\n          style: styles.footerText,\n          children: item.promo\n        })]\n      })]\n    });\n  };\n  return _jsxs(View, {\n    style: tw(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"bg-white\"]))),\n    children: [_jsx(StatusBar, {\n      style: \"auto\"\n    }), _jsx(FlatList, {\n      data: carouselItem,\n      renderItem: renderItems,\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      horizontal: true,\n      showsHorizontalScrollIndicator: false,\n      pagingEnabled: true,\n      ref: function ref(_ref3) {\n        flatListRef.current = _ref3;\n      },\n      style: styles.carousel,\n      viewabilityConfig: viewConfigRef,\n      onViewableItemsChanged: onViewRef.current\n    }), _jsx(View, {\n      style: styles.dotView,\n      children: carouselItem.map(function (_ref4, index) {\n        _objectDestructuringEmpty(_ref4);\n        return _jsx(TouchableOpacity, {\n          style: [styles.circle, {\n            backgroundColor: index == currentIndex ? 'black' : \"grey\"\n          }],\n          onPress: function onPress() {\n            return scrollToIndex(index);\n          }\n        }, index.toString());\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  carousel: {\n    maxHeight: 240\n  },\n  image: {\n    width: width,\n    height: 180,\n    resizeMode: \"cover\"\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    height: 50,\n    paddingHorizontal: 40,\n    alignItems: 'center',\n    backgroundColor: '#000'\n  },\n  footerText: {\n    color: \"#fff\",\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  dotView: {\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  },\n\n  circle: {\n    width: 10,\n    height: 10,\n    backgroundColor: \"grey\",\n    borderRadius: 50,\n    marginHorizontal: 5\n  }\n});\nexport default Carousel;","map":{"version":3,"names":["StatusBar","React","useRef","useState","carouselItem","tw","Dimensions","get","width","height","viewConfigRef","viewAreaCoveragePercentThreshold","Carousel","flatListRef","currentIndex","setCurrentIndex","onViewRef","changed","isViewable","index","scrollToIndex","current","animated","renderItems","item","console","log","uri","url","styles","image","footer","footerText","title","promo","toString","ref","carousel","dotView","map","circle","backgroundColor","StyleSheet","create","maxHeight","resizeMode","flexDirection","justifyContent","paddingHorizontal","alignItems","color","fontSize","fontWeight","borderRadius","marginHorizontal"],"sources":["C:/Users/wangz/Desktop/newUber/components/Carousel.jsx"],"sourcesContent":["import { StatusBar } from 'expo-status-bar';\r\nimport React, {useRef, useState} from 'react';\r\nimport { StyleSheet,Dimensions, View, Text, FlatList, TouchableOpacity, Image } from 'react-native';\r\nimport carouselItem from '../data/dummy'\r\nimport tw from 'tailwind-react-native-classnames'\r\n\r\nconst {width,height} = Dimensions.get('window');\r\nconst viewConfigRef = {viewAreaCoveragePercentThreshold:95}\r\n\r\nconst Carousel = () => {\r\n    let flatListRef = useRef()\r\n    const [currentIndex,setCurrentIndex] = useState(0)\r\n    const onViewRef = useRef(({changed}) => {\r\n        if(changed[0].isViewable) {\r\n            setCurrentIndex(changed[0].index)\r\n        }\r\n    })\r\n\r\n    const scrollToIndex = (index) => {\r\n        flatListRef.current?.scrollToIndex({animated:true,index:index})\r\n    }\r\n\r\n    const renderItems = ({item}) => {\r\n        return (\r\n        <TouchableOpacity \r\n        onPress={() => console.log(\"clicked\")}\r\n        activeOpacity={1}\r\n        >\r\n        <Image source={{uri:item.url}} style={styles.image} />\r\n        <View style={styles.footer}>\r\n            <Text style={styles.footerText}>{item.title}</Text>\r\n            <Text style={styles.footerText}>{item.promo}</Text>\r\n        </View>\r\n        </TouchableOpacity>\r\n        )\r\n    }\r\n    return (\r\n        <View style={tw`bg-white`}>\r\n            <StatusBar style='auto' />\r\n\r\n            <FlatList \r\n            data={carouselItem} \r\n            renderItem={renderItems} \r\n            keyExtractor={(item, index) => index.toString()}\r\n            horizontal\r\n            showsHorizontalScrollIndicator={false}\r\n            pagingEnabled\r\n            ref={(ref) => {\r\n                flatListRef.current=ref\r\n            }}\r\n            style={styles.carousel}\r\n            viewabilityConfig={viewConfigRef}\r\n            onViewableItemsChanged={onViewRef.current}\r\n            />\r\n            <View style={styles.dotView}>\r\n                {carouselItem.map(({},index) => (\r\n                    <TouchableOpacity \r\n                    key={index.toString()}\r\n                    style={[styles.circle,\r\n                        {backgroundColor: index == currentIndex? 'black':\"grey\"}\r\n                    ]} \r\n                    onPress={() => scrollToIndex(index)}\r\n\r\n                    />\r\n                ))}\r\n            </View>\r\n        </View>\r\n        \r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create(\r\n    {\r\n        carousel:{\r\n            maxHeight: 240,\r\n\r\n        },\r\n        image: {\r\n            width,\r\n            height:180,\r\n            resizeMode:\"cover\",\r\n        },\r\n        footer:{\r\n            flexDirection:'row',\r\n            justifyContent:'space-between',\r\n            height:50,\r\n            paddingHorizontal:40,\r\n            alignItems:'center',\r\n            backgroundColor:'#000',\r\n        },\r\n        footerText:{\r\n            color:\"#fff\",\r\n            fontSize:18,\r\n            fontWeight:'bold'\r\n        },\r\n        dotView: {\r\n            flexDirection:\"row\",\r\n            justifyContent:\"center\",\r\n            //marginVertical:10,\r\n        },\r\n        circle:{\r\n            width:10,\r\n            height:10,\r\n            backgroundColor:\"grey\",\r\n            borderRadius:50,\r\n            marginHorizontal:5,\r\n        }\r\n    }\r\n)\r\n\r\nexport default Carousel;"],"mappings":"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"},"metadata":{},"sourceType":"module"}